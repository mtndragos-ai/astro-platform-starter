---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Kverneland | AgroConcept Training">
    <div class="dashboard-container">
        
        <!-- HEADER FIX (Identic cu cel principal) -->
        <header class="sticky-header">
            <div class="header-content">
                <div class="logo-section">
                    <div class="brand-text">
                        <span class="blue">AGRO</span><span class="yellow">CONCEPT</span>
                    </div>
                    <span class="training-text">TRAINING</span>
                </div>

                <nav class="center-nav">
                    <a href="/categorii" class="nav-link">‚Üê √énapoi</a>
                    <a href="#" class="nav-link">Electrica</a>
                    <a href="#" class="nav-link">Hidraulica</a>
                    <a href="/categorii" class="nav-link">Tractoare</a>
                    <a href="#" class="nav-link active">Kverneland</a>
                </nav>

                <div class="user-profile">
                    <div class="user-details">
                        <span class="user-label">TEHNICIAN LOGAT</span>
                        <span class="user-name">User AgroConcept</span>
                    </div>
                    <div class="avatar-circle">AC</div>
                </div>
            </div>
        </header>

        <!-- Con»õinut Principal -->
        <main class="main-content">
            
            <!-- BREADCRUMBS (Navigare sus st√¢nga, stil poza 3) -->
            <div class="breadcrumbs">
                <span class="crumb-gray">Kverneland</span>
                <span class="separator">/</span>
                <span class="crumb-blue" id="breadcrumb-current">Gama de Utilaje</span>
            </div>

            <!-- VIEW 1: SELEC»öIE UTILAJ -->
            <div id="view-selection">
                <header class="section-header">
                    <h1>Alege Tipul de Utilaj</h1>
                    <p>SelecteazƒÉ categoria pentru a vedea documenta»õia tehnicƒÉ.</p>
                </header>

                <div class="machines-grid">
                    <!-- Card SemƒÉnƒÉtori -->
                    <div class="machine-card" onclick="openMachine('SemƒÉnƒÉtori')">
                        <div class="machine-image">üå±</div>
                        <h3>SemƒÉnƒÉtori</h3>
                        <p>Painease, Optima, Monopill</p>
                        <span class="machine-link">SelecteazƒÉ ‚Üí</span>
                    </div>

                    <!-- Card Sprayer -->
                    <div class="machine-card" onclick="openMachine('Sprayer')">
                        <div class="machine-image">üí¶</div>
                        <h3>Sprayer (Erbicidat)</h3>
                        <p>iXtrack, iXter, iXtra</p>
                        <span class="machine-link">SelecteazƒÉ ‚Üí</span>
                    </div>

                    <!-- Card Spreader -->
                    <div class="machine-card" onclick="openMachine('Spreader')">
                        <div class="machine-image">üåæ</div>
                        <h3>Spreader (Fertilizat)</h3>
                        <p>Exacta CL, HL, TL, TLX</p>
                        <span class="machine-link">SelecteazƒÉ ‚Üí</span>
                    </div>
                </div>
            </div>

            <!-- VIEW 2: RESURSE (Stilul din Poza 3 - Senzori »ôi Actuatori) -->
            <div id="view-resources" style="display: none;">
                <header class="section-header">
                    <h1 id="resource-title">SemƒÉnƒÉtori - Program Training</h1>
                    <p id="resource-subtitle">Documenta»õie completƒÉ »ôi proceduri de service.</p>
                </header>

                <div class="resources-grid">
                    
                    <!-- Card 1: Manual Service -->
                    <div class="resource-card">
                        <div class="icon-box blue-box">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
                        </div>
                        <h3>Manual Service</h3>
                        <p>DescarcƒÉ schemele explodate »ôi instruc»õiunile de asamblare pas cu pas.</p>
                        <a href="#" class="resource-link">AcceseazƒÉ PDF ‚Üí</a>
                    </div>

                    <!-- Card 2: Manual Operare -->
                    <div class="resource-card">
                        <div class="icon-box purple-box">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
                        </div>
                        <h3>Manual Operare</h3>
                        <p>Ghidul operatorului pentru setƒÉri √Æn c√¢mp »ôi calibrare terminal.</p>
                        <a href="#" class="resource-link">AcceseazƒÉ PDF ‚Üí</a>
                    </div>

                    <!-- Card 3: Tutorial Video -->
                    <div class="resource-card">
                        <div class="icon-box red-box">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polygon points="10 8 16 12 10 16 10 8"/></svg>
                        </div>
                        <h3>Tutorial Video</h3>
                        <p>VizualizeazƒÉ procedura de punere √Æn func»õiune »ôi teste.</p>
                        <a href="#" class="resource-link">UrmƒÉre»ôte Video ‚Üí</a>
                    </div>

                    <!-- Card 4: Coduri de Eroare -->
                    <div class="resource-card">
                        <div class="icon-box green-box">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="4" y="4" width="16" height="16" rx="2" ry="2"/><rect x="9" y="9" width="6" height="6"/><line x1="9" y1="1" x2="9" y2="4"/><line x1="15" y1="1" x2="15" y2="4"/><line x1="9" y1="20" x2="9" y2="23"/><line x1="15" y1="20" x2="15" y2="23"/><line x1="20" y1="9" x2="23" y2="9"/><line x1="20" y1="14" x2="23" y2="14"/><line x1="1" y1="9" x2="4" y2="9"/><line x1="1" y1="14" x2="4" y2="14"/></svg>
                        </div>
                        <h3>Coduri de Eroare</h3>
                        <p>Baza de date cu erori ISOBUS »ôi solu»õii de remediere rapidƒÉ.</p>
                        <a href="#" class="resource-link">CautƒÉ Erori ‚Üí</a>
                    </div>

                </div>

                <div style="margin-top: 2rem;">
                    <button onclick="closeMachine()" class="back-button">‚Üê √énapoi la Lista Kverneland</button>
                </div>
            </div>

        </main>
    </div>
</Layout>

<script is:inline>
    // LogicƒÉ simplƒÉ pentru schimbarea ferestrelor
    const viewSelection = document.getElementById('view-selection');
    const viewResources = document.getElementById('view-resources');
    const breadcrumbCurrent = document.getElementById('breadcrumb-current');
    const resourceTitle = document.getElementById('resource-title');

    function openMachine(numeMasina) {
        // Ascundem selec»õia, arƒÉtƒÉm resursele
        viewSelection.style.display = 'none';
        viewResources.style.display = 'block';
        
        // ActualizƒÉm titlurile
        breadcrumbCurrent.innerText = numeMasina;
        breadcrumbCurrent.style.color = '#003087'; // Albastru activ
        breadcrumbCurrent.style.fontWeight = 'bold';
        
        resourceTitle.innerText = numeMasina + " - Documenta»õie";

        // Scroll sus
        window.scrollTo(0,0);
    }

    function closeMachine() {
        viewSelection.style.display = 'block';
        viewResources.style.display = 'none';
        
        // Reset breadcrumbs
        breadcrumbCurrent.innerText = "Gama de Utilaje";
        breadcrumbCurrent.style.color = '#6b7280';
        breadcrumbCurrent.style.fontWeight = 'normal';
    }
</script>

<style>
    /* STILURI GENERALE */
    .dashboard-container {
        background-color: #ffffff; /* Fundal alb curat ca √Æn pozƒÉ */
        min-height: 100vh;
        color: #1f2937;
        font-family: 'Roboto', sans-serif;
    }

    /* HEADER (Sticky) */
    .sticky-header {
        position: sticky;
        top: 0;
        z-index: 1000;
        background: #ffffff;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        width: 100%;
    }
    .header-content {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 2rem;
        height: 70px;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }
    .logo-section { display: flex; align-items: baseline; gap: 10px; }
    .brand-text { font-weight: 900; font-size: 1.5rem; letter-spacing: -0.5px; }
    .blue { color: #003087; }
    .yellow { color: #F4D03F; }
    .training-text { font-weight: 300; font-size: 1.5rem; color: #9ca3af; text-transform: uppercase; }
    
    .center-nav { display: flex; gap: 30px; height: 100%; align-items: center; }
    .nav-link { text-decoration: none; color: #4b5563; font-weight: 600; font-size: 0.95rem; height: 100%; display: flex; align-items: center; border-bottom: 3px solid transparent; }
    .nav-link:hover { color: #003087; }
    .nav-link.active { color: #E30613; border-bottom-color: #E30613; } /* Ro»ôu Kverneland */

    .user-profile { display: flex; align-items: center; gap: 12px; }
    .user-details { display: flex; flex-direction: column; align-items: flex-end; line-height: 1.2; }
    .user-label { font-size: 0.65rem; font-weight: 700; color: #9ca3af; }
    .user-name { font-size: 0.9rem; font-weight: 600; color: #111827; }
    .avatar-circle { width: 40px; height: 40px; background-color: #003087; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; }

    /* LAYOUT PRINCIPAL */
    .main-content {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem;
    }

    /* BREADCRUMBS (Stil poza 3) */
    .breadcrumbs {
        font-size: 0.9rem;
        margin-bottom: 1.5rem;
        display: flex;
        gap: 8px;
        color: #6b7280;
    }
    .crumb-gray { color: #6b7280; }
    .crumb-blue { color: #003087; font-weight: 600; }
    
    .section-header { margin-bottom: 2.5rem; }
    .section-header h1 { font-size: 2rem; color: #111827; margin: 0 0 0.5rem 0; font-weight: 800; }
    .section-header p { color: #4b5563; font-size: 1.1rem; margin: 0; }

    /* VIEW 1: MACHINE CARDS (Grila SimplƒÉ) */
    .machines-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
    }
    .machine-card {
        background: #f9fafb;
        border: 1px solid #e5e7eb;
        border-radius: 12px;
        padding: 2rem;
        text-align: center;
        cursor: pointer;
        transition: all 0.2s;
    }
    .machine-card:hover {
        border-color: #E30613;
        background: #fff;
        box-shadow: 0 10px 25px rgba(0,0,0,0.05);
    }
    .machine-image { font-size: 3rem; margin-bottom: 1rem; }
    .machine-card h3 { margin: 0; font-size: 1.25rem; font-weight: 700; color: #111827; }
    .machine-card p { color: #6b7280; margin: 0.5rem 0 1.5rem 0; }
    .machine-link { color: #E30613; font-weight: 600; font-size: 0.9rem; }


    /* VIEW 2: RESOURCES GRID (STIL POZA 3 - EXACT) */
    .resources-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 24px;
    }

    .resource-card {
        background: #ffffff;
        border: 1px solid #e5e7eb; /* BordurƒÉ subtilƒÉ */
        border-radius: 12px; /* Rotunjire ca √Æn pozƒÉ */
        padding: 1.5rem;
        box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        transition: transform 0.2s, box-shadow 0.2s;
    }

    .resource-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        border-color: #d1d5db;
    }

    /* Iconi»õele colorate (pƒÉtrat rotunjit) */
    .icon-box {
        width: 48px;
        height: 48px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 1.2rem;
    }
    
    /* Culori specifice pentru iconi»õe (ca √Æn pozƒÉ) */
    .blue-box { background-color: #eff6ff; color: #2563eb; } /* Albastru deschis */
    .red-box { background-color: #fef2f2; color: #dc2626; } /* Ro»ôu deschis */
    .green-box { background-color: #f0fdf4; color: #16a34a; } /* Verde deschis */
    .purple-box { background-color: #f3e8ff; color: #9333ea; } /* Mov deschis */

    .resource-card h3 {
        margin: 0 0 0.5rem 0;
        font-size: 1.1rem;
        font-weight: 700;
        color: #111827;
    }

    .resource-card p {
        margin: 0 0 1.5rem 0;
        font-size: 0.9rem;
        line-height: 1.5;
        color: #6b7280; /* Gri descriere */
        flex-grow: 1; /* √émpinge linkul jos */
    }

    .resource-link {
        text-decoration: none;
        color: #2563eb; /* Albastru link */
        font-weight: 600;
        font-size: 0.95rem;
        display: flex;
        align-items: center;
        gap: 5px;
    }
    
    .resource-link:hover {
        text-decoration: underline;
    }

    /* Buton Back */
    .back-button {
        background: none;
        border: 1px solid #d1d5db;
        padding: 8px 16px;
        border-radius: 6px;
        cursor: pointer;
        color: #4b5563;
        font-weight: 500;
        transition: all 0.2s;
    }
    .back-button:hover {
        background: #f3f4f6;
        color: #111827;
    }

    /* Mobile */
    @media (max-width: 768px) {
        .header-content { flex-direction: column; height: auto; padding: 1rem; }
        .center-nav { width: 100%; justify-content: space-between; overflow-x: auto; }
        .resources-grid { grid-template-columns: 1fr; }
    }
</style>
